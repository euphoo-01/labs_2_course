# Ответы на вопросы к Лабораторной работе №12

## 1. Какие классы содержатся в System.IO?
Пространство имен `System.IO` содержит типы, позволяющие осуществлять чтение и запись файлов и потоков данных, а также типы для поддержки основных операций с файлами и директориями.
**Основные классы:**
*   **File** — статический класс для операций с файлами (создание, копирование, удаление, перемещение).
*   **FileInfo** — класс экземпляра для операций с конкретным файлом.
*   **Directory** — статический класс для операций с директориями.
*   **DirectoryInfo** — класс экземпляра для операций с конкретной директорией.
*   **Path** — операции со строками, содержащими пути к файлам/папкам.
*   **Stream** — абстрактный базовый класс для всех потоков.
*   **FileStream** — поток для чтения/записи файлов.
*   **StreamReader / StreamWriter** — для чтения/записи текстовых данных.
*   **BinaryReader / BinaryWriter** — для чтения/записи примитивных типов данных в бинарном виде.

## 2. Для чего используются классы Directory и DirectoryInfo? В чем отличие?
Оба класса используются для работы с папками (создание, удаление, получение списка файлов).
**Отличие:**
*   **Directory** — это **статический** класс. Методы вызываются напрямую от класса (например, `Directory.CreateDirectory(...)`). Удобен для разовых операций. При каждом вызове происходит проверка безопасности (security check), что может быть медленнее при множестве операций.
*   **DirectoryInfo** — это класс, от которого создается **объект (экземпляр)**. Он хранит состояние (информацию о папке) внутри себя. Удобен, когда нужно выполнить много операций с одной и той же директорией (получить имя, потом время создания, потом родителя), так как проверка прав доступа происходит один раз при создании объекта.

## 3. Для чего используются классы File и FileInfo? Какие методы они содержат.
Используются для работы с файлами.
*   **File (статический):** `Copy`, `Move`, `Delete`, `Exists`, `ReadAllText`, `WriteAllText`.
*   **FileInfo (экземпляр):** Свойства `Length` (размер), `Extension` (расширение), `Directory` (папка файла), методы `CopyTo`, `MoveTo`, `Delete`.
*   **Отличие** такое же, как у Directory vs DirectoryInfo (File для разовых действий, FileInfo для множественных операций с одним объектом).

## 4. Для чего используются классы StreamReader и StreamWriter?
Они используются для чтения и записи **текстовой** информации (строк, символов) в потоки (чаще всего файловые). Они автоматически преобразуют байты в символы и обратно, используя кодировку (например, UTF-8).

## 5. Для чего используются классы BinaryWriter и BinaryReader?
Они используются для записи и чтения данных примитивных типов (int, float, bool, double) в **бинарном** (двоичном) виде. Данные записываются компактно, так, как они хранятся в памяти, а не в виде читаемого текста.

## 6. Как можно сжимать и восстанавливать файлы?
В .NET для этого используется пространство имен `System.IO.Compression`.
*   Класс **ZipFile** (появился в .NET 4.5) позволяет легко создать архив из папки (`CreateFromDirectory`) или распаковать его (`ExtractToDirectory`).
*   Класс **GZipStream** или **DeflateStream** — это потоки-обертки, которые сжимают данные "на лету" при записи в другой поток.

## 7. Расскажите алгоритм сжатия GZip.
GZip основан на алгоритме **DEFLATE**. Он комбинирует два алгоритма:
1.  **LZ77 (Lempel-Ziv):** Ищет повторяющиеся последовательности данных. Вместо повтора записывается ссылка назад на первое появление (смещение и длина). *Пример: вместо "banana" записывается "ban[-2,3]" (вернуться на 2 назад, скопировать 3 символа).*
2.  **Кодирование Хаффмана (Huffman coding):** Часто встречающимся символам присваиваются короткие битовые коды, а редким — длинные. Это уменьшает общий объем бит.

## 8. Для чего служит класс Path?
Класс `Path` выполняет операции над строками, содержащими путь к файлу или папке, кроссплатформенным способом.
*   `Path.Combine("folder", "file.txt")` — правильно склеивает пути (ставит нужный слэш `\` или `/` в зависимости от ОС).
*   `Path.GetExtension(...)` — получает расширение.
*   `Path.GetFileName(...)` — получает имя файла.
*   `Path.GetFullPath(...)` — возвращает абсолютный путь.

## 9. Что такое текстовый и бинарный файл. Как можно выполнить чтение и запись в эти файлы.
*   **Текстовый файл:** Последовательность символов, организованная в строки. Человек может прочитать его в блокноте (txt, log, cs, html). Читают через `StreamReader`, пишут через `StreamWriter` (или методы `File.ReadAllText`).
*   **Бинарный файл:** Последовательность байтов. Может содержать изображения, звук, скомпилированный код или просто числа. Если открыть в блокноте — будут "кракозябры". Читают через `BinaryReader` или `FileStream`, пишут через `BinaryWriter`.

## 10. Что такое произвольный доступ к файлу? Приведите пример.
Это возможность читать или писать данные не последовательно (с начала до конца), а сразу перепрыгнув в нужное место файла.
Это делается с помощью метода `Seek` у класса `FileStream`. Мы передвигаем "курсор" (позицию потока) на нужный байт.
*   *Пример:* В базе данных нам нужно прочитать запись №50. Мы знаем, что каждая запись занимает 100 байт. Мы делаем `Seek(4900, Begin)` и читаем нужную запись, не перебирая первые 49.

## 11. Как применяется конструкция using (не директива) при работе с файловыми потоками? Для чего ее используют.
Конструкция `using` используется для автоматического освобождения ресурсов. Файловые потоки — это "неуправляемые ресурсы" (ОС держит файл открытым).
```csharp
using (StreamWriter sw = new StreamWriter("file.txt")) 
{
    sw.WriteLine("Text");
} // <- Здесь автоматически вызовется sw.Dispose() и sw.Close()
```
Это гарантирует, что файл будет закрыт и сохранен, даже если внутри блока произойдет ошибка (исключение). Без этого файл может остаться заблокированным для других программ.

```
